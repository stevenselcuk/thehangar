npm warn Unknown user config "python". This will stop working in the next major version of npm.

> the-hangar@0.0.0 test:run
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.17 [39m[90m/Users/stevenselcuk/Documents/Development/thehangar[39m

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould import a previously exported state
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould preserve all data through export/import cycle
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

[90mstderr[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould return null for invalid export string
[22m[39mFailed to import game data: Error: Deobfuscation failed: Invalid character
    at deobfuscate [90m(/Users/stevenselcuk/Documents/Development/thehangar/[39msrc/utils/obfuscation.ts:129:11[90m)[39m
    at importGameData [90m(/Users/stevenselcuk/Documents/Development/thehangar/[39msrc/services/importExportService.ts:126:26[90m)[39m
    at [90m/Users/stevenselcuk/Documents/Development/thehangar/[39m__tests__/services/importExportService.test.ts:99:22
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:145:11
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:26
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1209:10[90m)[39m
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1653:37
    at Traces.$ [90m(file:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m

[90mstderr[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould return null for corrupted export string
[22m[39mFailed to import game data: Error: Invalid hex encoding - corrupted data
    at hexToString [90m(/Users/stevenselcuk/Documents/Development/thehangar/[39msrc/utils/obfuscation.ts:29:13[90m)[39m
    at deobfuscate [90m(/Users/stevenselcuk/Documents/Development/thehangar/[39msrc/utils/obfuscation.ts:106:23[90m)[39m
    at importGameData [90m(/Users/stevenselcuk/Documents/Development/thehangar/[39msrc/services/importExportService.ts:126:26[90m)[39m
    at [90m/Users/stevenselcuk/Documents/Development/thehangar/[39m__tests__/services/importExportService.test.ts:110:22
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:145:11
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:26
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1209:10[90m)[39m
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1653:37

[90mstderr[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould return null for empty string
[22m[39mFailed to import game data: Error: Decompression failed - data may be corrupted
    at deobfuscate [90m(/Users/stevenselcuk/Documents/Development/thehangar/[39msrc/utils/obfuscation.ts:115:13[90m)[39m
    at importGameData [90m(/Users/stevenselcuk/Documents/Development/thehangar/[39msrc/services/importExportService.ts:126:26[90m)[39m
    at [90m/Users/stevenselcuk/Documents/Development/thehangar/[39m__tests__/services/importExportService.test.ts:116:22
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:145:11
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:26
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1209:10[90m)[39m
    at [90mfile:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1653:37
    at Traces.$ [90m(file:///Users/stevenselcuk/Documents/Development/thehangar/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m

[90mstderr[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould return null for export with missing required properties
[22m[39mInvalid export data structure

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould validate GameState structure
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mimportGameData[2m > [22m[2mshould handle import of minimal state
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mversion compatibility[2m > [22m[2mshould successfully import export with version metadata
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mdata integrity[2m > [22m[2mshould preserve arrays through export/import
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mdata integrity[2m > [22m[2mshould preserve nested objects through export/import
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

[90mstdout[2m | __tests__/services/importExportService.test.ts[2m > [22m[2mimportExportService[2m > [22m[2mdata integrity[2m > [22m[2mshould preserve numbers accurately
[22m[39mImporting save from version 1.0.0, exported at 1/26/2026, 6:19:56 PM

 [32m‚úì[39m __tests__/services/importExportService.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 103[2mms[22m[39m
 [32m‚úì[39m __tests__/components/ResourceBar.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [31m‚ùØ[39m __tests__/state/slices/proficiencySlice.test.ts [2m([22m[2m34 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 36[2mms[22m[39m
       [32m‚úì[39m should complete a mandatory course and update inventory[32m 3[2mms[22m[39m
       [32m‚úì[39m should set hfRecurrentDueDate for HF Initial course[32m 1[2mms[22m[39m
       [32m‚úì[39m should set hfRecurrentDueDate for HF Recurrent course[32m 1[2mms[22m[39m
       [32m‚úì[39m should not set hfRecurrentDueDate for non-HF courses[32m 1[2mms[22m[39m
       [32m‚úì[39m should pass the A&P Written exam[32m 1[2mms[22m[39m
       [32m‚úì[39m should pass the A&P Practical exam[32m 1[2mms[22m[39m
       [32m‚úì[39m should grant A&P License[32m 0[2mms[22m[39m
       [32m‚úì[39m should pass the Avionics exam and deduct correct costs[32m 0[2mms[22m[39m
       [32m‚úì[39m should pass an EASA module and add it to easaModulesPassed[32m 1[2mms[22m[39m
       [32m‚úì[39m should fail an EASA module and not add it to easaModulesPassed[32m 1[2mms[22m[39m
       [32m‚úì[39m should progress through multiple EASA modules sequentially[32m 1[2mms[22m[39m
       [32m‚úì[39m should grant EASA B1.1 license[32m 0[2mms[22m[39m
       [32m‚úì[39m should pass NDT Level I exam[32m 0[2mms[22m[39m
       [32m‚úì[39m should pass NDT Level II exam[32m 0[2mms[22m[39m
       [32m‚úì[39m should certify for HFEC[32m 0[2mms[22m[39m
       [32m‚úì[39m should certify for multiple NDT subtasks[32m 15[2mms[22m[39m
       [32m‚úì[39m should complete 737 Familiarization[32m 1[2mms[22m[39m
[31m       [31m√ó[31m should complete A330 type ratings[39m[32m 5[2mms[22m[39m
       [32m‚úì[39m should progress through 737 type ratings sequentially[32m 0[2mms[22m[39m
       [32m‚úì[39m should unlock a Tier 1 skill with no prerequisites[32m 0[2mms[22m[39m
       [32m‚úì[39m should unlock a Tier 2 skill with prerequisites met[32m 0[2mms[22m[39m
       [32m‚úì[39m should not unlock a skill without prerequisites[32m 0[2mms[22m[39m
       [32m‚úì[39m should not unlock a skill without skill points[32m 0[2mms[22m[39m
       [32m‚úì[39m should not unlock an already unlocked skill[32m 0[2mms[22m[39m
       [32m‚úì[39m should unlock multiple skills in sequence[32m 0[2mms[22m[39m
       [32m‚úì[39m should not mutate state (side-effect only action)[32m 0[2mms[22m[39m
         [32m‚úì[39m should return true if skill is unlocked[32m 0[2mms[22m[39m
         [32m‚úì[39m should return false if skill is not unlocked[32m 0[2mms[22m[39m
         [32m‚úì[39m should return the first module if none are passed[32m 0[2mms[22m[39m
         [32m‚úì[39m should return the next unpassed module[32m 0[2mms[22m[39m
         [32m‚úì[39m should return undefined if all modules are passed[32m 0[2mms[22m[39m
         [32m‚úì[39m should return true for pass (> 0.3)[32m 0[2mms[22m[39m
         [32m‚úì[39m should return false for fail (<= 0.3)[32m 0[2mms[22m[39m
       [32m‚úì[39m should not mutate original state[32m 0[2mms[22m[39m
 [32m‚úì[39m __tests__/components/SystemModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[32m 111[2mms[22m[39m
 [32m‚úì[39m __tests__/state/slices/complianceSlice.test.ts [2m([22m[2m86 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32m‚úì[39m __tests__/components/ErrorBoundary.test.tsx [2m([22m[2m7 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 401[2mms[22m[39m
 [32m‚úì[39m __tests__/components/AboutModal.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 515[2mms[22m[39m
     [33m[2m‚úì[22m[39m navigates to Field Competencies [33m 323[2mms[22m[39m
 [32m‚úì[39m __tests__/utils/obfuscation.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32m‚úì[39m __tests__/slices/hangarSlice.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32m‚úì[39m __tests__/slices/aircraftSlice.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32m‚úì[39m __tests__/hooks/useMobileNotifications.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32m‚úì[39m __tests__/slices/encountersSlice.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32m‚úì[39m __tests__/state/slices/backshopSlice.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32m‚úì[39m __tests__/state/slices/terminalSlice.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32m‚úì[39m __tests__/slices/shopSlice.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32m‚úì[39m __tests__/state/slices/eventsSlice.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32m‚úì[39m __tests__/slices/officeSlice.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32m‚úì[39m __tests__/state/slices/inventorySlice.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32m‚úì[39m __tests__/state/initialState.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32m‚úì[39m __tests__/utils/gameHelpers.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32m‚úì[39m __tests__/services/RewardCalculator.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32m‚úì[39m __tests__/services/logService.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32m‚úì[39m __tests__/slices/terminalLocationSlice.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32m‚úì[39m src/state/slices/__tests__/aogSlice.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32m‚úì[39m src/state/slices/__tests__/terminalLocationSlice.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32m‚úì[39m src/logic/__tests__/locationEffects.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32m‚úì[39m __tests__/services/CostCalculator.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32m‚úì[39m __tests__/logic/actionProcessorNew.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32m‚úì[39m __tests__/logic/levels.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32m‚úì[39m src/state/slices/__tests__/shopSlice.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32m‚úì[39m src/state/slices/__tests__/aircraftSlice.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32m‚úì[39m src/state/slices/__tests__/timeSlice.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32m‚úì[39m src/logic/__tests__/locationRequirements.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 1 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m __tests__/state/slices/proficiencySlice.test.ts[2m > [22mproficiencySlice[2m > [22mTAKE_TYPE_RATING[2m > [22mshould complete A330 type ratings
[31m[1mAssertionError[22m: expected 1200 to be 1400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1400[39m
[31m+ 1200[39m

[36m [2m‚ùØ[22m __tests__/state/slices/proficiencySlice.test.ts:[2m456:40[22m[39m
    [90m454| [39m      })[33m;[39m
    [90m455| [39m
    [90m456| [39m      [34mexpect[39m(result[33m.[39mresources[33m.[39mcredits)[33m.[39m[34mtoBe[39m([34m1400[39m)[33m;[39m
    [90m   | [39m                                       [31m^[39m
    [90m457| [39m      [34mexpect[39m(result[33m.[39mresources[33m.[39mexperience)[33m.[39m[34mtoBe[39m([34m1000[39m)[33m;[39m
    [90m458| [39m      [34mexpect[39m(result[33m.[39minventory[33m.[39mtypeRatingA330)[33m.[39m[34mtoBe[39m([34m2[39m)[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m32 passed[39m[22m[90m (33)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m635 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (637)[39m
[2m   Start at [22m 18:19:54
[2m   Duration [22m 5.37s[2m (transform 2.02s, setup 2.75s, import 4.53s, tests 1.64s, environment 20.55s)[22m

